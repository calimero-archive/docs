---
title: Indexer API
sidebar_position: 4
---

### Prerequisites
You must have an access to the Calimero console to interact with Indexer.

### Configuration

To be able to call Indexer API you must set few parameters:
1. Endpoint
2. Authorization token

# Endpoint
Endpoint is constructed from multiple parts:
- **networkId**: can be either **testnet** (with suffix: **-calimero-testnet**) or **mainnet** (with suffix:**-calimero**)
- **shardId**: unique identifier of your shard. Consist of user defined shard name and network suffix. All parts are required.
```
https://api.{{networkId}}.calimero.network/api/v1/shards/{{shardId}}/indexer-graphql/graphql
```
You can find it directly in the [Console](/interact/endpoints).

### Authorization token
You must be authorised in order to fetch data. Use existing token or create a new one through the Console UI.
- Login in Calimero Console.
- Select the same shard as set in the previous step.
- Select Security tab from side menu and open Token page.
- On the Token page find "Create a new token" action and generate a new token.

Authorization token must be provided in header:
```javascript
Authorization: {{token}}
```

Indexer API schema is available [here](https://github.com/community/community/files/10108266/schema.txt)


### Example:

**Method:** POST

**Url parameters**
networkId: testnet
shardId: test-calimero-testnet (donâ€™t forget to include complete shard id)
```
https://api.testnet.calimero.network/api/v1/shards/test-calimero-testnet/indexer-graphql/graphql
```

**Headers:**
Any request to the indexer endpoint must include an `Authorization` header. The value is the token generated in the previous step.

**Body:**
A GraphQL query

**Query**
```graphql
query accounts{
    allAccounts{
        totalCount
    }
}
```
**Response**
Status 200 is returned if the API call is correct.
```json
{
    "data": {
        "allAccounts": {
            "totalCount": 4
        }
    }
}
```

**Postman**
<img width="694" alt="Example-indexer-api" src="https://user-images.githubusercontent.com/12198572/204392731-2b682032-ac4b-42b2-94a4-f6f79ee1b8dd.png"/>
